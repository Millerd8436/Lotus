"use strict";(()=>{var e={};e.id=340,e.ids=[340],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3796:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>c,POST:()=>p});var o=a(9303),n=a(8716),s=a(670),i=a(7070);let l={TX:{max_apr:664,max_amount:1500,term_days:14,rollover_limit:4},CA:{max_apr:36,max_amount:300,term_days:31,rollover_limit:0},NY:{max_apr:36,max_amount:500,term_days:30,rollover_limit:0},FL:{max_apr:304,max_amount:500,term_days:14,rollover_limit:3},OH:{max_apr:391,max_amount:1e3,term_days:14,rollover_limit:4},DEFAULT:{max_apr:400,max_amount:500,term_days:14,rollover_limit:3}};function _(e,t,a){let r=l[t]||l.DEFAULT,o=r.max_apr/100,n=r.term_days,s=Math.floor(o/365*e*n),i=Math.floor(.08*e),_=30+5*a,p=s+i+25+15+_+20+25,c=1+.1*a;return{principal:e,base_fee:s,processing_fee:i,verification_fee:25,ach_fee:15,risk_assessment:_,platform_fee:20,insurance_fee:25,late_fee:40,rollover_fee:50,nsf_fee:35,total_fees:Math.floor(p*c),total_due:Math.floor((e+p)*c),apr:Math.floor(p/e*(365/n)*100),state_max_apr:r.max_apr,exploitation_multiplier:c}}async function p(e){try{let{action:t,data:a}=await e.json();switch(t){case"loan_application":let r;let o=(r=0,a.income<2e3?r+=3:a.income<3e3?r+=2:a.income<4e3&&(r+=1),a.employment.toLowerCase().includes("part")&&(r+=2),a.employment.toLowerCase().includes("temp")&&(r+=2),a.employment.toLowerCase().includes("gig")&&(r+=1),a.bankName.toLowerCase().includes("check")&&(r+=2),a.bankName.toLowerCase().includes("cash")&&(r+=2),a.bankName.toLowerCase().includes("money")&&(r+=1),Math.min(r,10)),n=_(a.amount||300,"TX",o),s=function(e){let t={urgency_level:Math.min(e+2,10),scarcity_messaging:["Only 3 spots left for instant approval","This pre-approved offer expires in 24 hours","Limited time: No credit check required"],social_proof:["347 people applied in the last hour","Sarah from Dallas just got approved for $500","Over 10,000 satisfied customers this month"],authority_badges:["BBB Accredited Business","SSL Secured Application","Licensed in 50 States","As Seen on TV"],vulnerability_targeting:[],gamification_elements:["Unlock VIP status with your first loan","Earn rewards for quick repayment","Join our loyalty program"]};return e>=7?t.vulnerability_targeting=["Emergency financial assistance available","No judgment, we understand financial struggles","Designed for people with imperfect credit","Get cash when banks say no"]:e>=4&&(t.vulnerability_targeting=["Fast approval for working professionals","Bridge the gap until payday","Flexible options for your situation"]),t}(o),l=function(e){let t=e.headers,a=t.get("user-agent")||"",r=t.get("referer")||"",o=a.toLowerCase().includes("mobile"),n=r.includes("facebook")||r.includes("instagram");return{session_id:Date.now().toString(),page_views:Math.floor(10*Math.random())+1,time_on_site:Math.floor(300*Math.random())+60,form_interactions:Math.floor(5*Math.random())+1,cancel_attempts:Math.floor(3*Math.random()),vulnerability_indicators:["multiple_form_attempts","long_session_duration","repeated_visits",o?"mobile_device_usage":"desktop_usage",n?"social_media_referral":"direct_traffic",r?"referral_traffic":"desperate_direct_search"],financial_stress_score:Math.floor(10*Math.random())+1,manipulation_susceptibility:Math.floor(8*Math.random())+1,target_profile:"high_value_vulnerable"}}(e);return i.NextResponse.json({success:!0,application_id:Date.now().toString(),vulnerability_score:o,fee_structure:n,psychological_triggers:s,tracking_data:l,approval_status:"pre_approved",exploitation_profile:{target_type:o>=7?"high_value_vulnerable":"standard_target",estimated_lifetime_value:n.total_fees*(2+o),rollover_probability:Math.min(80+2*o,95),extraction_strategy:"maximize_fees_minimize_principal_reduction"}});case"calculate_fees":let{amount:p,state:c,vulnerability:u}=a,d=_(p,c,u||0);return i.NextResponse.json({success:!0,fee_breakdown:d,comparison:{ethical_alternative:{credit_union_loan:{principal:p,interest:Math.floor(.28*p*(14/365)),total_due:p+Math.floor(.28*p*(14/365)),apr:28,no_rollover_fees:!0}},predatory_reality:d}});case"rollover_simulation":let{original_amount:m,rollover_count:f}=a,h=function(e,t){let a=50*(t+1);return{original_principal:e,rollover_count:t,rollover_fee:50,new_total_due:e+a,total_fees_paid:a,principal_paid:0,new_due_date:new Date(Date.now()+12096e5).toISOString(),trap_status:t>=3?"deep_trap":"entering_trap",profitability_score:2.5*t}}(m,f);return i.NextResponse.json({success:!0,rollover_data:h,research_statistics:{percent_loans_rolled_over:80,percent_on_time_payment:15,percent_revenue_from_trapped_borrowers:75,average_rollovers_per_loan:8}});case"ach_exploitation":let{account_info:g,payment_amount:v}=a,y=g?.account_type||"checking",w=g?.bank_name||"unknown",x=w.toLowerCase().includes("credit union");return i.NextResponse.json({success:!0,ach_simulation:{authorized_amount:v,account_analysis:{account_type:y,bank_name:w,exploitation_risk:x?"low":"high",multiple_attempt_likelihood:x?20:85},unauthorized_attempts:[{amount:v,purpose:"duplicate_payment",status:"failed"},{amount:v,purpose:"retry_attempt",status:"failed"},{amount:v,purpose:"alternative_account",status:"success"}],nsf_fees_generated:70,total_extracted:v+70,research_data:{percent_borrowers_unauthorized_withdrawals:32,average_nsf_fees_per_borrower:105,multiple_attempt_strategy:"standard_industry_practice"}}});default:return i.NextResponse.json({error:"Unknown action"},{status:400})}}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e){let{searchParams:t}=new URL(e.url);switch(t.get("type")){case"state_regulations":return i.NextResponse.json({success:!0,state_regulations:l,exploitation_analysis:{highest_apr_states:["TX","OH","FL"],lowest_protection_states:["TX","OH","FL"],regulatory_arbitrage:"Lenders incorporate in high-APR states"}});case"research_statistics":return i.NextResponse.json({success:!0,research_findings:{debt_trap_statistics:{percent_loans_rolled_over:80,percent_on_time_payment:15,percent_revenue_from_trapped_customers:75,average_loan_sequence_length:8,median_borrower_fees_vs_principal:1.8},ach_exploitation:{percent_unauthorized_withdrawals:32,average_nsf_fees_per_borrower:105,multiple_attempt_frequency:78},targeting_vulnerable_populations:{percent_elderly_borrowers:12,percent_disability_recipients:8,percent_monthly_benefit_borrowers_trapped_all_year:20}}});default:return i.NextResponse.json({success:!0,api_info:{name:"Phase One API - Predatory Lending Simulation",version:"1.0.0",description:"Consolidated API for simulating predatory lending practices based on research",endpoints:{POST:["loan_application","calculate_fees","rollover_simulation","ach_exploitation"],GET:["state_regulations","research_statistics"]}}})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/phase-one/route",pathname:"/api/phase-one",filename:"route",bundlePath:"app/api/phase-one/route"},resolvedPagePath:"C:\\Users\\mille\\Downloads\\Lotus\\app\\api\\phase-one\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:f}=u,h="/api/phase-one/route";function g(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,972],()=>a(3796));module.exports=r})();