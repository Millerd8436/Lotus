<!-- Copilot: Ethical Hero Section with transparency and education -->
<section id="ethical-hero" class="ethical-hero">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <div class="educational-badge">
                    <span class="badge-icon">üéì</span>
                    <span>Educational Financial Tool</span>
                </div>
                
                <h1 class="hero-title">
                    Understanding Payday Lending
                    <span class="subtitle">Learn about costs, risks, and better alternatives</span>
                </h1>
                
                <div class="transparency-notice">
                    <h3>üîç Full Transparency</h3>
                    <p>This is an educational simulation designed to demonstrate predatory lending practices. Real payday loans often have:</p>
                    <ul class="transparency-facts">
                        <li><strong>Very high costs:</strong> 400-800% annual interest rates</li>
                        <li><strong>Debt traps:</strong> Most borrowers roll over loans multiple times</li>
                        <li><strong>Hidden fees:</strong> Processing, rollover, and collection charges</li>
                        <li><strong>Financial harm:</strong> Can lead to bank overdrafts and debt cycles</li>
                    </ul>
                </div>
                
                <div class="educational-cta">
                    <h3>Choose Your Learning Path:</h3>
                    <div class="cta-buttons">
                        <button class="btn-primary" onclick="startEducationalTour()">
                            <span>üìö Start Educational Tour</span>
                            <small>Learn about predatory practices</small>
                        </button>
                        <button class="btn-secondary" onclick="showAlternatives()">
                            <span>üí° See Better Alternatives</span>
                            <small>Explore safer borrowing options</small>
                        </button>
                        <button class="btn-calculator" onclick="openCalculator()">
                            <span>üßÆ Cost Calculator</span>
                            <small>Compare loan costs</small>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-visual">
                <div class="comparison-widget">
                    <h4>Quick Cost Comparison</h4>
                    <div class="loan-comparison">
                        <div class="comparison-item payday">
                            <h5>Typical Payday Loan</h5>
                            <div class="loan-example">
                                <span class="amount">$300 for 2 weeks</span>
                                <span class="cost danger">Total Cost: $375</span>
                                <span class="apr danger">APR: 650%</span>
                            </div>
                        </div>
                        <div class="vs-divider">VS</div>
                        <div class="comparison-item alternative">
                            <h5>Credit Union Loan</h5>
                            <div class="loan-example">
                                <span class="amount">$300 for 1 year</span>
                                <span class="cost safe">Total Cost: $327</span>
                                <span class="apr safe">APR: 18%</span>
                            </div>
                        </div>
                    </div>
                    <p class="comparison-note">
                        <strong>Savings: $48 + avoid debt trap</strong>
                    </p>
                </div>
                
                <div class="warning-box">
                    <h4>‚ö†Ô∏è Consumer Warning</h4>
                    <p>The Consumer Financial Protection Bureau recommends avoiding payday loans due to their extremely high costs and debt trap potential.</p>
                    <a href="#alternatives" class="warning-link">See safer alternatives ‚Üí</a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
function startEducationalTour() {
    // Track educational engagement
    window.LotusApp?.utils?.trackEvent('educational_tour_started', {
        source: 'hero_cta'
    });
    
    // Show educational overlay
    showEducationalOverlay();
}

function showAlternatives() {
    // Track alternatives interest
    window.LotusApp?.utils?.trackEvent('alternatives_requested', {
        source: 'hero_cta'
    });
    
    // Scroll to alternatives section
    document.querySelector('#alternatives')?.scrollIntoView({
        behavior: 'smooth'
    });
}

function openCalculator() {
    // Track calculator usage
    window.LotusApp?.utils?.trackEvent('calculator_opened', {
        source: 'hero_cta'
    });
    
    // Show calculator modal
    showCalculatorModal();
}

function showEducationalOverlay() {
    const overlay = document.createElement('div');
    overlay.className = 'educational-overlay';
    overlay.innerHTML = `
        <div class="overlay-content">
            <div class="overlay-header">
                <h3>üéì Educational Tour</h3>
                <button class="close-btn" onclick="this.parentElement.parentElement.parentElement.remove()">√ó</button>
            </div>
            <div class="tour-content">
                <h4>What you'll learn:</h4>
                <ul>
                    <li>How predatory lenders use psychological manipulation</li>
                    <li>Hidden costs and debt trap mechanisms</li>
                    <li>Your consumer rights and protections</li>
                    <li>Better alternatives for emergency funding</li>
                </ul>
                <div class="tour-actions">
                    <button class="btn-primary" onclick="switchToPredatoryMode()">
                        View Predatory Interface
                    </button>
                    <button class="btn-secondary" onclick="this.parentElement.parentElement.parentElement.remove()">
                        Continue Learning Here
                    </button>
                </div>
            </div>
        </div>
    `;
    
    document.body.appendChild(overlay);
}

function switchToPredatoryMode() {
    if (window.LotusApp?.utils?.setMode) {
        window.LotusApp.utils.setMode('predatory');
        window.location.reload();
    } else {
        // Fallback URL parameter method
        const url = new URL(window.location);
        url.searchParams.set('mode', 'predatory');
        window.location.href = url.toString();
    }
}

function showCalculatorModal() {
    const modal = document.createElement('div');
    modal.className = 'calculator-modal';
    modal.innerHTML = `
        <div class="modal-overlay" onclick="this.parentElement.remove()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>üßÆ Loan Cost Calculator</h3>
                <button class="close-btn" onclick="this.parentElement.parentElement.remove()">√ó</button>
            </div>
            <div class="calculator-body">
                <div class="input-group">
                    <label for="loan-amount">Loan Amount:</label>
                    <input type="number" id="loan-amount" value="300" min="50" max="5000" step="50">
                </div>
                <div class="input-group">
                    <label for="loan-term">Loan Term:</label>
                    <select id="loan-term">
                        <option value="14">2 weeks (typical payday)</option>
                        <option value="30">1 month</option>
                        <option value="90">3 months</option>
                        <option value="365">1 year</option>
                    </select>
                </div>
                <button class="calculate-btn" onclick="calculateComparison()">Calculate Costs</button>
                <div id="calculation-results"></div>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
}

function calculateComparison() {
    const amount = parseFloat(document.getElementById('loan-amount').value);
    const term = parseInt(document.getElementById('loan-term').value);
    
    // Payday loan calculation
    const paydayRate = 0.25; // 25% for 2 weeks
    const paydayFees = 55; // Processing + funding fees
    const paydayCost = amount + (amount * paydayRate) + paydayFees;
    const paydayAPR = ((paydayRate + (paydayFees / amount)) * (365 / 14)) * 100;
    
    // Alternative calculations
    const creditUnionAPR = 18;
    const creditUnionCost = amount * (1 + (creditUnionAPR / 100) * (term / 365));
    
    const creditCardAPR = 25;
    const creditCardCost = amount * (1 + (creditCardAPR / 100) * (term / 365));
    
    const results = document.getElementById('calculation-results');
    results.innerHTML = `
        <div class="results-grid">
            <div class="result-item danger">
                <h4>Payday Loan</h4>
                <div class="cost-breakdown">
                    <span class="total-cost">Total: $${paydayCost.toFixed(2)}</span>
                    <span class="apr">APR: ${paydayAPR.toFixed(0)}%</span>
                    <span class="fees">Fees: $${paydayFees}</span>
                </div>
            </div>
            <div class="result-item safe">
                <h4>Credit Union</h4>
                <div class="cost-breakdown">
                    <span class="total-cost">Total: $${creditUnionCost.toFixed(2)}</span>
                    <span class="apr">APR: ${creditUnionAPR}%</span>
                    <span class="savings">Saves: $${(paydayCost - creditUnionCost).toFixed(2)}</span>
                </div>
            </div>
            <div class="result-item warning">
                <h4>Credit Card</h4>
                <div class="cost-breakdown">
                    <span class="total-cost">Total: $${creditCardCost.toFixed(2)}</span>
                    <span class="apr">APR: ${creditCardAPR}%</span>
                    <span class="savings">Saves: $${(paydayCost - creditCardCost).toFixed(2)}</span>
                </div>
            </div>
        </div>
        <div class="recommendation">
            <h4>üí° Recommendation:</h4>
            <p>Consider these alternatives before choosing a payday loan. Even credit cards typically cost far less!</p>
        </div>
    `;
    
    // Track calculation
    window.LotusApp?.utils?.trackEvent('cost_calculated', {
        amount: amount,
        term: term,
        payday_cost: paydayCost,
        savings_vs_payday: paydayCost - creditUnionCost
    });
}

// Initialize hero interactions
document.addEventListener('DOMContentLoaded', function() {
    // Track hero views
    window.LotusApp?.utils?.trackEvent('ethical_hero_viewed', {
        timestamp: Date.now()
    });
    
    // Add smooth scrolling for internal links
    document.querySelectorAll('a[href^="#"]').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });
});
</script>

<style>
.ethical-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 4rem 0;
    min-height: 80vh;
    display: flex;
    align-items: center;
}

.hero-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
}

.educational-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #d1ecf1;
    color: #0c5460;
    padding: 0.5rem 1rem;
    border-radius: 25px;
    font-weight: 600;
    margin-bottom: 1.5rem;
    border: 2px solid #17a2b8;
}

.badge-icon {
    font-size: 1.2rem;
}

.hero-title {
    font-size: 3rem;
    color: #343a40;
    margin-bottom: 2rem;
    line-height: 1.2;
}

.subtitle {
    display: block;
    font-size: 1.5rem;
    color: #6c757d;
    font-weight: 400;
    margin-top: 0.5rem;
}

.transparency-notice {
    background: #fff;
    border: 2px solid #28a745;
    border-radius: 10px;
    padding: 2rem;
    margin: 2rem 0;
}

.transparency-notice h3 {
    color: #28a745;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.transparency-facts {
    list-style: none;
    padding: 0;
    margin: 1rem 0;
}

.transparency-facts li {
    padding: 0.5rem 0;
    border-bottom: 1px solid #f8f9fa;
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}

.transparency-facts li::before {
    content: "‚ö†Ô∏è";
    flex-shrink: 0;
}

.educational-cta {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 10px;
    margin-top: 2rem;
}

.educational-cta h3 {
    color: #343a40;
    margin-bottom: 1.5rem;
    text-align: center;
}

.cta-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.btn-primary, .btn-secondary, .btn-calculator {
    padding: 1.25rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.btn-primary {
    background: #28a745;
    color: white;
}

.btn-primary:hover {
    background: #218838;
    transform: translateY(-2px);
}

.btn-secondary {
    background: #17a2b8;
    color: white;
}

.btn-secondary:hover {
    background: #138496;
    transform: translateY(-2px);
}

.btn-calculator {
    background: #6f42c1;
    color: white;
}

.btn-calculator:hover {
    background: #5a2a9a;
    transform: translateY(-2px);
}

.btn-primary small, .btn-secondary small, .btn-calculator small {
    font-size: 0.85rem;
    opacity: 0.9;
    font-weight: 400;
}

.hero-visual {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.comparison-widget {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    border: 1px solid #dee2e6;
}

.comparison-widget h4 {
    text-align: center;
    color: #343a40;
    margin-bottom: 1.5rem;
}

.loan-comparison {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1rem;
}

.comparison-item {
    padding: 1.5rem;
    border-radius: 10px;
    text-align: center;
}

.comparison-item.payday {
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    border: 2px solid #dc3545;
}

.comparison-item.alternative {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    border: 2px solid #28a745;
}

.comparison-item h5 {
    margin: 0 0 1rem 0;
    color: #343a40;
    font-size: 1.1rem;
}

.loan-example {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.amount {
    font-weight: 600;
    color: #343a40;
}

.cost.danger {
    color: #dc3545;
    font-weight: bold;
}

.cost.safe {
    color: #28a745;
    font-weight: bold;
}

.apr.danger {
    color: #dc3545;
    font-size: 0.9rem;
}

.apr.safe {
    color: #28a745;
    font-size: 0.9rem;
}

.vs-divider {
    background: #6c757d;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: bold;
    text-align: center;
    font-size: 0.9rem;
}

.comparison-note {
    text-align: center;
    font-weight: 600;
    color: #28a745;
    background: #d4edda;
    padding: 1rem;
    border-radius: 8px;
    margin: 0;
}

.warning-box {
    background: #fff3cd;
    border: 2px solid #ffc107;
    border-radius: 10px;
    padding: 1.5rem;
}

.warning-box h4 {
    color: #856404;
    margin-bottom: 1rem;
}

.warning-box p {
    color: #856404;
    margin-bottom: 1rem;
    line-height: 1.5;
}

.warning-link {
    color: #007bff;
    text-decoration: none;
    font-weight: 600;
}

.warning-link:hover {
    text-decoration: underline;
}

/* Modal Styles */
.educational-overlay, .calculator-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
}

.overlay-content, .modal-content {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    max-width: 600px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
}

.overlay-header, .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #dee2e6;
}

.close-btn {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #6c757d;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close-btn:hover {
    color: #dc3545;
}

.tour-content h4, .calculator-body h3 {
    color: #343a40;
    margin-bottom: 1rem;
}

.tour-content ul {
    margin: 1rem 0;
    padding-left: 1.5rem;
}

.tour-content li {
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

.tour-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
}

.input-group {
    margin-bottom: 1.5rem;
}

.input-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #343a40;
}

.input-group input, .input-group select {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 5px;
    font-size: 1rem;
}

.calculate-btn {
    background: #28a745;
    color: white;
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 5px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    margin-bottom: 1.5rem;
}

.calculate-btn:hover {
    background: #218838;
}

.results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.result-item {
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
}

.result-item.danger {
    background: #f8d7da;
    border: 2px solid #dc3545;
}

.result-item.safe {
    background: #d4edda;
    border: 2px solid #28a745;
}

.result-item.warning {
    background: #fff3cd;
    border: 2px solid #ffc107;
}

.result-item h4 {
    margin: 0 0 1rem 0;
    color: #343a40;
}

.cost-breakdown {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.total-cost {
    font-weight: bold;
    font-size: 1.1rem;
}

.recommendation {
    background: #d1ecf1;
    border: 1px solid #17a2b8;
    border-radius: 8px;
    padding: 1rem;
}

.recommendation h4 {
    color: #0c5460;
    margin-bottom: 0.5rem;
}

.recommendation p {
    color: #0c5460;
    margin: 0;
}

@media (max-width: 768px) {
    .hero-content {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .hero-title {
        font-size: 2.25rem;
    }
    
    .subtitle {
        font-size: 1.25rem;
    }
    
    .cta-buttons {
        grid-template-columns: 1fr;
    }
    
    .loan-comparison {
        grid-template-columns: 1fr;
        gap: 1rem;
        text-align: center;
    }
    
    .vs-divider {
        justify-self: center;
    }
    
    .results-grid {
        grid-template-columns: 1fr;
    }
    
    .tour-actions {
        flex-direction: column;
    }
}
</style>
