<!-- Copilot: Educational loan calculator with transparent cost comparison -->
<section id="ethical-calculator" class="ethical-calculator">
    <div class="container">
        <div class="calculator-header">
            <h2>üßÆ Transparent Loan Cost Calculator</h2>
            <p class="subtitle">See the real cost of different borrowing options</p>
            <div class="transparency-note">
                <span class="transparency-icon">üîç</span>
                <span>This calculator shows actual costs with no hidden fees or misleading information</span>
            </div>
        </div>

        <div class="calculator-container">
            <div class="calculator-inputs">
                <h3>Your Borrowing Needs</h3>
                
                <div class="input-section">
                    <div class="input-group">
                        <label for="loan-amount">How much do you need to borrow?</label>
                        <div class="input-wrapper">
                            <span class="currency">$</span>
                            <input type="number" id="loan-amount" value="500" min="50" max="5000" step="50">
                        </div>
                        <div class="input-help">
                            üí° Tip: Only borrow what you absolutely need
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="payback-time">When can you realistically pay this back?</label>
                        <select id="payback-time">
                            <option value="14">2 weeks (payday loan typical)</option>
                            <option value="30">1 month</option>
                            <option value="60">2 months</option>
                            <option value="90">3 months</option>
                            <option value="180">6 months</option>
                            <option value="365">1 year</option>
                        </select>
                        <div class="input-help">
                            üí° Tip: Longer terms usually mean lower monthly payments
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="credit-score">Your approximate credit score (if known)</label>
                        <select id="credit-score">
                            <option value="poor">Poor (300-579) or Unknown</option>
                            <option value="fair">Fair (580-669)</option>
                            <option value="good">Good (670-739)</option>
                            <option value="very-good">Very Good (740-799)</option>
                            <option value="excellent">Excellent (800+)</option>
                        </select>
                        <div class="input-help">
                            üí° Tip: Better credit usually means better rates
                        </div>
                    </div>

                    <button class="calculate-btn" onclick="calculateAllOptions()">
                        Calculate My Options
                    </button>
                </div>
            </div>

            <div class="calculation-results" id="results-container">
                <div class="results-placeholder">
                    <div class="placeholder-icon">üßÆ</div>
                    <h3>Enter your information to see loan cost comparisons</h3>
                    <p>We'll show you multiple options with complete transparency about costs and risks.</p>
                </div>
            </div>
        </div>

        <!-- Educational Information -->
        <div class="educational-content">
            <div class="education-grid">
                <div class="education-item">
                    <h4>üí∞ Understanding APR</h4>
                    <p>Annual Percentage Rate (APR) includes both interest and fees, showing the true yearly cost of borrowing. Always compare APRs, not just monthly payments.</p>
                    <div class="example">
                        <strong>Example:</strong> A $300 payday loan with $75 in fees for 2 weeks = 650% APR
                    </div>
                </div>

                <div class="education-item">
                    <h4>‚ö†Ô∏è Hidden Costs to Watch For</h4>
                    <ul>
                        <li>Origination or processing fees</li>
                        <li>Rollover or renewal fees</li>
                        <li>Late payment penalties</li>
                        <li>NSF (insufficient funds) fees</li>
                        <li>Early payoff penalties</li>
                    </ul>
                </div>

                <div class="education-item">
                    <h4>üîÑ The Debt Trap Cycle</h4>
                    <p>Many payday borrowers get stuck in a cycle where they roll over loans multiple times, paying more in fees than the original loan amount.</p>
                    <div class="cycle-example">
                        <strong>Typical Cycle:</strong> Borrow $300 ‚Üí Can't repay ‚Üí Roll over for $75 ‚Üí Repeat 4-8 times = $600+ in fees
                    </div>
                </div>

                <div class="education-item">
                    <h4>‚úÖ Questions to Ask Lenders</h4>
                    <ul>
                        <li>What is the total APR?</li>
                        <li>Are there any additional fees?</li>
                        <li>What happens if I can't pay on time?</li>
                        <li>Can I pay early without penalty?</li>
                        <li>Will this help or hurt my credit score?</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Risk Assessment Tool -->
        <div class="risk-assessment">
            <h3>üéØ Personal Risk Assessment</h3>
            <p>Answer these questions honestly to understand your borrowing risk:</p>
            
            <div class="assessment-questions">
                <div class="question">
                    <label>
                        <input type="checkbox" id="risk-emergency" value="emergency">
                        This is for a true emergency (medical, car repair, housing)
                    </label>
                </div>
                
                <div class="question">
                    <label>
                        <input type="checkbox" id="risk-payback" value="payback">
                        I have a realistic plan to pay this back without borrowing again
                    </label>
                </div>
                
                <div class="question">
                    <label>
                        <input type="checkbox" id="risk-budget" value="budget">
                        I have a monthly budget and know my expenses
                    </label>
                </div>
                
                <div class="question">
                    <label>
                        <input type="checkbox" id="risk-alternatives" value="alternatives">
                        I have considered other options (family, credit union, payment plan)
                    </label>
                </div>
                
                <div class="question">
                    <label>
                        <input type="checkbox" id="risk-income" value="income">
                        My income is stable and predictable
                    </label>
                </div>
            </div>
            
            <button class="assess-btn" onclick="assessRisk()">Get My Risk Assessment</button>
            <div id="risk-results"></div>
        </div>
    </div>
</section>

<script>
// Global calculation state
let calculationResults = {};

function calculateAllOptions() {
    const amount = parseFloat(document.getElementById('loan-amount').value);
    const termDays = parseInt(document.getElementById('payback-time').value);
    const creditScore = document.getElementById('credit-score').value;
    
    // Calculate different loan options
    const paydayLoan = calculatePaydayLoan(amount, termDays);
    const creditCard = calculateCreditCard(amount, termDays, creditScore);
    const creditUnion = calculateCreditUnion(amount, termDays, creditScore);
    const personalLoan = calculatePersonalLoan(amount, termDays, creditScore);
    
    // Store results
    calculationResults = {
        amount,
        termDays,
        creditScore,
        options: [paydayLoan, creditCard, creditUnion, personalLoan]
    };
    
    // Display results
    displayResults();
    
    // Track calculation
    if (window.LotusApp?.utils?.trackEvent) {
        window.LotusApp.utils.trackEvent('ethical_calculator_used', {
            amount: amount,
            term_days: termDays,
            credit_score: creditScore,
            payday_cost: paydayLoan.totalCost,
            best_alternative_cost: Math.min(creditCard.totalCost, creditUnion.totalCost, personalLoan.totalCost)
        });
    }
}

function calculatePaydayLoan(amount, termDays) {
    // Typical payday loan: 25% fee for 2 weeks (650% APR)
    const baseFeeRate = 0.25; // 25% for 2 weeks
    const processingFee = 25;
    const fastFundingFee = amount > 500 ? 30 : 0;
    
    const financeCharge = amount * baseFeeRate;
    const totalCost = amount + financeCharge + processingFee + fastFundingFee;
    const totalRepayment = totalCost;
    
    // Calculate APR
    const feeAmount = financeCharge + processingFee + fastFundingFee;
    const apr = (feeAmount / amount) * (365 / 14) * 100; // Assuming 2-week term regardless of selected term
    
    return {
        type: 'Payday Loan',
        amount: amount,
        term: '14 days (typical)',
        monthlyPayment: totalRepayment, // All due at once
        totalCost: totalCost,
        totalInterest: feeAmount,
        apr: apr,
        riskLevel: 'very-high',
        pros: ['Fast approval', 'No credit check'],
        cons: ['Extremely high cost', 'Due all at once', 'Debt trap risk', 'Rollover fees if can\'t pay'],
        warnings: ['Most borrowers roll over 4-8 times', 'Can cost more than the loan amount in fees', 'May lead to bank overdrafts']
    };
}

function calculateCreditCard(amount, termDays, creditScore) {
    // Credit card cash advance rates based on credit score
    const aprByScore = {
        'poor': 29.99,
        'fair': 26.99,
        'good': 24.99,
        'very-good': 21.99,
        'excellent': 18.99
    };
    
    const apr = aprByScore[creditScore] || 29.99;
    const cashAdvanceFee = Math.max(amount * 0.05, 10); // 5% or $10 minimum
    const monthlyRate = apr / 100 / 12;
    const months = Math.max(1, Math.round(termDays / 30));
    
    const monthlyPayment = (amount + cashAdvanceFee) / months;
    const interestCost = amount * monthlyRate * months;
    const totalCost = amount + cashAdvanceFee + interestCost;
    
    return {
        type: 'Credit Card Cash Advance',
        amount: amount,
        term: `${months} month${months > 1 ? 's' : ''}`,
        monthlyPayment: monthlyPayment,
        totalCost: totalCost,
        totalInterest: cashAdvanceFee + interestCost,
        apr: apr,
        riskLevel: 'medium-high',
        pros: ['Immediate access if you have a card', 'Can pay gradually', 'Better than payday loan'],
        cons: ['Higher APR than purchases', 'Cash advance fee', 'No grace period'],
        warnings: ['Interest starts immediately', 'Pay off as quickly as possible']
    };
}

function calculateCreditUnion(amount, termDays, creditScore) {
    // Credit union rates are generally better
    const aprByScore = {
        'poor': 18.0,
        'fair': 15.5,
        'good': 12.5,
        'very-good': 10.5,
        'excellent': 8.5
    };
    
    const apr = aprByScore[creditScore] || 18.0;
    const months = Math.max(3, Math.round(termDays / 30)); // Minimum 3 months
    const monthlyRate = apr / 100 / 12;
    
    // Simple loan calculation
    const monthlyPayment = (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / 
                          (Math.pow(1 + monthlyRate, months) - 1);
    const totalRepayment = monthlyPayment * months;
    const totalInterest = totalRepayment - amount;
    
    return {
        type: 'Credit Union Loan',
        amount: amount,
        term: `${months} months`,
        monthlyPayment: monthlyPayment,
        totalCost: totalRepayment,
        totalInterest: totalInterest,
        apr: apr,
        riskLevel: 'low',
        pros: ['Much lower rates', 'Builds credit', 'Financial counseling', 'No prepayment penalty'],
        cons: ['Need membership', 'May take longer to approve', 'Credit check required'],
        warnings: []
    };
}

function calculatePersonalLoan(amount, termDays, creditScore) {
    // Online personal loan rates
    const aprByScore = {
        'poor': 35.99,
        'fair': 24.99,
        'good': 18.99,
        'very-good': 14.99,
        'excellent': 10.99
    };
    
    const apr = aprByScore[creditScore] || 35.99;
    const originationFee = amount * 0.05; // 5% origination fee
    const months = Math.max(6, Math.round(termDays / 30)); // Minimum 6 months
    const monthlyRate = apr / 100 / 12;
    
    const loanAmount = amount + originationFee;
    const monthlyPayment = (loanAmount * monthlyRate * Math.pow(1 + monthlyRate, months)) / 
                          (Math.pow(1 + monthlyRate, months) - 1);
    const totalRepayment = monthlyPayment * months;
    const totalInterest = totalRepayment - amount;
    
    return {
        type: 'Online Personal Loan',
        amount: amount,
        term: `${months} months`,
        monthlyPayment: monthlyPayment,
        totalCost: totalRepayment,
        totalInterest: totalInterest,
        apr: apr,
        riskLevel: 'medium',
        pros: ['Fixed monthly payments', 'Longer repayment terms', 'Can improve credit'],
        cons: ['Origination fees', 'Credit check required', 'Higher rates than secured loans'],
        warnings: ['Shop around for best rates', 'Watch for prepayment penalties']
    };
}

function displayResults() {
    const container = document.getElementById('results-container');
    const { amount, termDays, options } = calculationResults;
    
    // Sort options by total cost
    const sortedOptions = options.sort((a, b) => a.totalCost - b.totalCost);
    
    container.innerHTML = `
        <div class="results-header">
            <h3>Your Borrowing Options for $${amount.toLocaleString()}</h3>
            <p class="results-subtitle">Sorted from lowest to highest total cost</p>
        </div>
        
        <div class="comparison-grid">
            ${sortedOptions.map((option, index) => createOptionCard(option, index === 0)).join('')}
        </div>
        
        <div class="results-summary">
            <h4>üí° Summary & Recommendations</h4>
            <div class="summary-content">
                <div class="best-option">
                    <h5>Best Option: ${sortedOptions[0].type}</h5>
                    <p>Saves you $${(sortedOptions[sortedOptions.length - 1].totalCost - sortedOptions[0].totalCost).toFixed(2)} compared to the most expensive option.</p>
                </div>
                <div class="worst-option">
                    <h5>Avoid: ${sortedOptions[sortedOptions.length - 1].type}</h5>
                    <p>This option costs $${(sortedOptions[sortedOptions.length - 1].totalCost - amount).toFixed(2)} in fees and interest - that's ${((sortedOptions[sortedOptions.length - 1].totalCost - amount) / amount * 100).toFixed(0)}% of your loan amount!</p>
                </div>
            </div>
        </div>
        
        <div class="action-recommendations">
            <h4>üéØ Next Steps</h4>
            <ol>
                <li><strong>Try the best option first:</strong> ${sortedOptions[0].type}</li>
                <li><strong>Have a backup plan:</strong> Consider ${sortedOptions[1].type} if needed</li>
                <li><strong>Avoid if possible:</strong> ${sortedOptions[sortedOptions.length - 1].type}</li>
                <li><strong>Build emergency fund:</strong> Save $${Math.round(amount / 10)} per month to avoid future borrowing</li>
            </ol>
        </div>
    `;
}

function createOptionCard(option, isBest) {
    const riskColors = {
        'low': '#28a745',
        'medium': '#ffc107',
        'medium-high': '#fd7e14',
        'very-high': '#dc3545'
    };
    
    const riskColor = riskColors[option.riskLevel] || '#6c757d';
    
    return `
        <div class="option-card ${isBest ? 'best-option' : ''} ${option.riskLevel}">
            ${isBest ? '<div class="best-badge">‚úÖ BEST OPTION</div>' : ''}
            
            <div class="option-header">
                <h4>${option.type}</h4>
                <div class="risk-indicator" style="background-color: ${riskColor}">
                    ${option.riskLevel.replace('-', ' ').toUpperCase()} RISK
                </div>
            </div>
            
            <div class="cost-breakdown">
                <div class="cost-item primary">
                    <span class="label">Total Cost:</span>
                    <span class="value">$${option.totalCost.toFixed(2)}</span>
                </div>
                <div class="cost-item">
                    <span class="label">Monthly Payment:</span>
                    <span class="value">$${option.monthlyPayment.toFixed(2)}</span>
                </div>
                <div class="cost-item">
                    <span class="label">Total Interest/Fees:</span>
                    <span class="value">$${option.totalInterest.toFixed(2)}</span>
                </div>
                <div class="cost-item">
                    <span class="label">APR:</span>
                    <span class="value">${option.apr.toFixed(1)}%</span>
                </div>
                <div class="cost-item">
                    <span class="label">Term:</span>
                    <span class="value">${option.term}</span>
                </div>
            </div>
            
            <div class="pros-cons">
                <div class="pros">
                    <h5>‚úÖ Pros:</h5>
                    <ul>
                        ${option.pros.map(pro => `<li>${pro}</li>`).join('')}
                    </ul>
                </div>
                <div class="cons">
                    <h5>‚ùå Cons:</h5>
                    <ul>
                        ${option.cons.map(con => `<li>${con}</li>`).join('')}
                    </ul>
                </div>
            </div>
            
            ${option.warnings.length > 0 ? `
                <div class="warnings">
                    <h5>‚ö†Ô∏è Important Warnings:</h5>
                    <ul>
                        ${option.warnings.map(warning => `<li>${warning}</li>`).join('')}
                    </ul>
                </div>
            ` : ''}
        </div>
    `;
}

function assessRisk() {
    const checkboxes = document.querySelectorAll('#risk-emergency, #risk-payback, #risk-budget, #risk-alternatives, #risk-income');
    const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
    
    const resultsContainer = document.getElementById('risk-results');
    
    let riskLevel, riskColor, recommendations;
    
    if (checkedCount >= 4) {
        riskLevel = 'Low Risk';
        riskColor = '#28a745';
        recommendations = [
            'You seem well-prepared for borrowing',
            'Consider credit union or bank options first',
            'Make sure to compare all costs before deciding',
            'Have a backup plan if you can\'t repay on time'
        ];
    } else if (checkedCount >= 2) {
        riskLevel = 'Medium Risk';
        riskColor = '#ffc107';
        recommendations = [
            'Consider delaying borrowing if possible',
            'Explore free alternatives (family, payment plans)',
            'Create a detailed repayment plan',
            'Avoid payday loans if at all possible'
        ];
    } else {
        riskLevel = 'High Risk';
        riskColor = '#dc3545';
        recommendations = [
            'STOP - Consider alternatives before borrowing',
            'Call creditors to request payment plans',
            'Contact local assistance programs (dial 2-1-1)',
            'Avoid all high-cost loans (payday, title, etc.)',
            'Seek financial counseling'
        ];
    }
    
    resultsContainer.innerHTML = `
        <div class="risk-result" style="border-color: ${riskColor}">
            <div class="risk-header">
                <h4 style="color: ${riskColor}">Your Risk Level: ${riskLevel}</h4>
                <p>Based on ${checkedCount} out of 5 positive factors</p>
            </div>
            <div class="recommendations">
                <h5>Recommendations:</h5>
                <ul>
                    ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                </ul>
            </div>
            ${checkedCount < 3 ? `
                <div class="emergency-resources">
                    <h5>üÜò Emergency Resources:</h5>
                    <ul>
                        <li><strong>2-1-1:</strong> Dial 2-1-1 for local emergency assistance</li>
                        <li><strong>Benefits.gov:</strong> Check for government assistance programs</li>
                        <li><strong>National Foundation for Credit Counseling:</strong> Free financial counseling</li>
                        <li><strong>Local food banks:</strong> Free food to stretch your budget</li>
                    </ul>
                </div>
            ` : ''}
        </div>
    `;
    
    // Track risk assessment
    if (window.LotusApp?.utils?.trackEvent) {
        window.LotusApp.utils.trackEvent('risk_assessment_completed', {
            checked_count: checkedCount,
            risk_level: riskLevel.toLowerCase().replace(' ', '_')
        });
    }
}

// Initialize calculator
document.addEventListener('DOMContentLoaded', function() {
    // Track calculator view
    if (window.LotusApp?.utils?.trackEvent) {
        window.LotusApp.utils.trackEvent('ethical_calculator_viewed', {
            timestamp: Date.now()
        });
    }
    
    // Add input event listeners for real-time updates
    const inputs = document.querySelectorAll('#loan-amount, #payback-time, #credit-score');
    inputs.forEach(input => {
        input.addEventListener('change', function() {
            // Clear results when inputs change
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = `
                <div class="results-placeholder">
                    <div class="placeholder-icon">üßÆ</div>
                    <h3>Click "Calculate My Options" to see updated results</h3>
                    <p>Your inputs have changed. Recalculate to see new loan comparisons.</p>
                </div>
            `;
        });
    });
});
</script>

<style>
.ethical-calculator {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 4rem 0;
    min-height: 100vh;
}

.calculator-header {
    text-align: center;
    margin-bottom: 3rem;
}

.calculator-header h2 {
    font-size: 2.5rem;
    color: #343a40;
    margin-bottom: 1rem;
}

.subtitle {
    font-size: 1.2rem;
    color: #6c757d;
    margin-bottom: 1.5rem;
}

.transparency-note {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background: #d1ecf1;
    color: #0c5460;
    padding: 0.75rem 1.5rem;
    border-radius: 25px;
    border: 2px solid #17a2b8;
    font-weight: 600;
}

.transparency-icon {
    font-size: 1.2rem;
}

.calculator-container {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 3rem;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
}

.calculator-inputs {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    height: fit-content;
    border: 2px solid #28a745;
}

.calculator-inputs h3 {
    color: #28a745;
    margin-bottom: 2rem;
    text-align: center;
    font-size: 1.5rem;
}

.input-section {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-group label {
    font-weight: 600;
    color: #343a40;
    font-size: 1.1rem;
}

.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.currency {
    position: absolute;
    left: 1rem;
    color: #6c757d;
    font-size: 1.1rem;
    font-weight: 600;
    z-index: 1;
}

.input-wrapper input {
    padding: 1rem 1rem 1rem 2rem;
    border: 2px solid #ced4da;
    border-radius: 8px;
    font-size: 1.1rem;
    width: 100%;
    transition: border-color 0.3s ease;
}

.input-wrapper input:focus,
select:focus {
    outline: none;
    border-color: #28a745;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
}

select {
    padding: 1rem;
    border: 2px solid #ced4da;
    border-radius: 8px;
    font-size: 1rem;
    background: white;
    cursor: pointer;
    transition: border-color 0.3s ease;
}

.input-help {
    font-size: 0.9rem;
    color: #17a2b8;
    font-style: italic;
}

.calculate-btn {
    background: linear-gradient(135deg, #28a745, #20c997);
    color: white;
    border: none;
    padding: 1.25rem 2rem;
    border-radius: 10px;
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
}

.calculate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
}

.calculation-results {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    min-height: 600px;
}

.results-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    color: #6c757d;
}

.placeholder-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.results-header {
    text-align: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e9ecef;
}

.results-header h3 {
    color: #343a40;
    margin-bottom: 0.5rem;
}

.results-subtitle {
    color: #6c757d;
    font-style: italic;
}

.comparison-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.option-card {
    border: 2px solid #e9ecef;
    border-radius: 12px;
    padding: 1.5rem;
    background: white;
    position: relative;
    transition: transform 0.3s ease;
}

.option-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.option-card.best-option {
    border-color: #28a745;
    background: linear-gradient(135deg, #ffffff, #f8fff9);
}

.option-card.very-high {
    border-color: #dc3545;
    background: linear-gradient(135deg, #ffffff, #fff8f8);
}

.best-badge {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    background: #28a745;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.option-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.option-header h4 {
    color: #343a40;
    margin: 0;
    font-size: 1.2rem;
}

.risk-indicator {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    color: white;
    font-size: 0.75rem;
    font-weight: bold;
    text-align: center;
}

.cost-breakdown {
    margin-bottom: 1.5rem;
    background: #f8f9fa;
    padding: 1rem;
    border-radius: 8px;
}

.cost-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.cost-item.primary {
    font-weight: bold;
    font-size: 1.1rem;
    color: #343a40;
    border-bottom: 1px solid #dee2e6;
    padding-bottom: 0.5rem;
    margin-bottom: 0.75rem;
}

.cost-item .label {
    color: #6c757d;
}

.cost-item .value {
    color: #343a40;
    font-weight: 600;
}

.pros-cons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1rem;
}

.pros, .cons {
    font-size: 0.9rem;
}

.pros h5 {
    color: #28a745;
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
}

.cons h5 {
    color: #dc3545;
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
}

.pros ul, .cons ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.pros li, .cons li {
    padding: 0.25rem 0;
    line-height: 1.3;
}

.warnings {
    background: #fff3cd;
    border: 1px solid #ffc107;
    border-radius: 6px;
    padding: 1rem;
    margin-top: 1rem;
}

.warnings h5 {
    color: #856404;
    margin: 0 0 0.5rem 0;
    font-size: 1rem;
}

.warnings ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.warnings li {
    color: #856404;
    padding: 0.25rem 0;
    line-height: 1.3;
    font-size: 0.9rem;
}

.results-summary {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border-left: 4px solid #17a2b8;
}

.results-summary h4 {
    color: #343a40;
    margin-bottom: 1rem;
}

.summary-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}

.best-option h5 {
    color: #28a745;
    margin-bottom: 0.5rem;
}

.worst-option h5 {
    color: #dc3545;
    margin-bottom: 0.5rem;
}

.action-recommendations {
    background: #d4edda;
    border: 2px solid #28a745;
    border-radius: 10px;
    padding: 1.5rem;
}

.action-recommendations h4 {
    color: #155724;
    margin-bottom: 1rem;
}

.action-recommendations ol {
    color: #155724;
    line-height: 1.6;
}

.action-recommendations li {
    margin-bottom: 0.75rem;
}

.educational-content {
    max-width: 1200px;
    margin: 4rem auto 0;
    padding: 0 2rem;
}

.education-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.education-item {
    background: white;
    border-radius: 10px;
    padding: 2rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border-left: 4px solid #17a2b8;
}

.education-item h4 {
    color: #17a2b8;
    margin-bottom: 1rem;
}

.education-item p {
    line-height: 1.6;
    color: #495057;
    margin-bottom: 1rem;
}

.education-item ul {
    list-style: none;
    padding: 0;
}

.education-item li {
    padding: 0.25rem 0;
    color: #495057;
    line-height: 1.4;
}

.education-item li::before {
    content: "‚Ä¢ ";
    color: #17a2b8;
    font-weight: bold;
}

.example, .cycle-example {
    background: #f8f9fa;
    border-left: 4px solid #ffc107;
    padding: 1rem;
    margin-top: 1rem;
    border-radius: 0 5px 5px 0;
    font-style: italic;
}

.risk-assessment {
    max-width: 800px;
    margin: 4rem auto 0;
    padding: 2rem;
    background: white;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    border: 2px solid #6f42c1;
}

.risk-assessment h3 {
    color: #6f42c1;
    text-align: center;
    margin-bottom: 1rem;
}

.risk-assessment > p {
    text-align: center;
    color: #6c757d;
    margin-bottom: 2rem;
}

.assessment-questions {
    margin-bottom: 2rem;
}

.question {
    margin-bottom: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
    border-left: 4px solid #6f42c1;
}

.question label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    font-weight: 500;
    color: #343a40;
}

.question input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: #6f42c1;
}

.assess-btn {
    background: #6f42c1;
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
}

.assess-btn:hover {
    background: #5a2a9a;
}

.risk-result {
    margin-top: 2rem;
    padding: 1.5rem;
    border-radius: 10px;
    border: 2px solid;
    background: white;
}

.risk-header h4 {
    margin: 0 0 0.5rem 0;
    font-size: 1.3rem;
}

.risk-header p {
    margin: 0 0 1rem 0;
    color: #6c757d;
}

.recommendations h5 {
    color: #343a40;
    margin-bottom: 0.75rem;
}

.recommendations ul {
    list-style: none;
    padding: 0;
}

.recommendations li {
    padding: 0.5rem 0;
    line-height: 1.4;
}

.recommendations li::before {
    content: "‚Üí ";
    font-weight: bold;
}

.emergency-resources {
    background: #f8d7da;
    border: 1px solid #dc3545;
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
}

.emergency-resources h5 {
    color: #721c24;
    margin-bottom: 0.75rem;
}

.emergency-resources ul {
    list-style: none;
    padding: 0;
}

.emergency-resources li {
    padding: 0.25rem 0;
    color: #721c24;
    line-height: 1.4;
}

@media (max-width: 768px) {
    .calculator-container {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .comparison-grid {
        grid-template-columns: 1fr;
    }
    
    .summary-content {
        grid-template-columns: 1fr;
    }
    
    .pros-cons {
        grid-template-columns: 1fr;
    }
    
    .education-grid {
        grid-template-columns: 1fr;
    }
    
    .calculator-header h2 {
        font-size: 2rem;
    }
    
    .option-header {
        flex-direction: column;
        gap: 0.5rem;
        text-align: center;
    }
}
</style>
